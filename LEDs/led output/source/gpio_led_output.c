#include "board.h"
#include "fsl_debug_console.h"
#include "fsl_gpio.h"

#include "clock_config.h"
#include "pin_mux.h"
/*
uint8_t direction[245] = {1.000000, 7.000000, 6.000000, 6.000000, 3.000000, 2.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000,
6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 7.000000, 7.000000, 7.000000, 7.000000, 7.000000, 7.000000, 7.000000, 7.000000, 7.000000, 7.000000, 7.000000, 7.000000, 7.000000, 7.000000, 7.000000, 7.000000, 7.000000, 7.000000, 7.000000, 7.000000, 7.000000, 7.000000, 7.000000, 7.000000, 7.000000, 7.000000, 7.000000, 8.000000, 8.000000, 7.000000, 7.000000, 8.000000, 8.000000, 8.000000, 8.000000, 8.000000,
8.000000, 8.000000, 8.000000, 8.000000, 8.000000, 8.000000, 8.000000, 1.000000, 1.000000, 8.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 8.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 8.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 8.000000, 1.000000, 8.000000, 8.000000, 8.000000, 8.000000, 8.000000, 8.000000, 8.000000, 8.000000,
8.000000, 8.000000, 7.000000, 7.000000, 7.000000, 7.000000, 7.000000, 7.000000, 7.000000, 7.000000, 7.000000, 7.000000, 7.000000, 7.000000, 7.000000, 7.000000, 7.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 6.000000,
6.000000, 6.000000, 6.000000, 6.000000, 6.000000, 7.000000, 5.000000, 3.000000, 3.000000, 1.000000, 1.000000, 3.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 3.000000, 8.000000, 5.000000, 8.000000, 7.000000, 8.000000, 2.000000, 3.000000, 3.000000, 8.000000, 2.000000, 3.000000, 7.000000, 8.000000, 8.000000, 2.000000, 3.000000, 7.000000, 3.000000, 3.000000, 2.000000, 1.000000, 2.000000, 7.000000, 8.000000, 2.000000, 7.000000, 8.000000};
*/
uint8_t direction[245]={
3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,4.000000,4.000000,4.000000,4.000000,4.000000,4.000000,4.000000,4.000000,4.000000,4.000000,4.000000,4.000000,4.000000,4.000000,4.000000,4.000000,4.000000,4.000000,4.000000,4.000000,4.000000,4.000000,4.000000,4.000000,4.000000,4.000000,4.000000,4.000000,4.000000,4.000000,4.000000,4.000000,4.000000,4.000000,4.000000,4.000000,4.000000,4.000000,4.000000,4.000000,4.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,3.000000,4.000000,4.000000,4.000000,4.000000,4.000000,4.000000,5.000000,5.000000,5.000000,5.000000,5.000000,5.000000,5.000000,5.000000,5.000000,5.000000,5.000000,5.000000,5.000000,5.000000,6.000000,6.000000,6.000000,6.000000,6.000000,6.000000,6.000000,6.000000,6.000000,6.000000,6.000000,6.000000,6.000000,6.000000,6.000000,7.000000,7.000000,7.000000,7.000000,7.000000,7.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,7.000000,7.000000,7.000000,7.000000,7.000000,7.000000,7.000000,7.000000,7.000000,7.000000,7.000000,7.000000,7.000000,7.000000,7.000000,7.000000,7.000000,7.000000,7.000000,7.000000,7.000000,7.000000,7.000000,7.000000,7.000000,7.000000,7.000000,7.000000,7.000000,7.000000,7.000000,7.000000,7.000000,7.000000,7.000000,7.000000,7.000000,7.000000,7.000000,7.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000};
/*uint8_t height[245] = {1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000,
1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000,
1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000,
1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000,
1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 3.000000, 3.000000, 1.000000, 3.000000, 3.000000, 3.000000, 3.000000, 3.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000, 1.000000};
*/
uint8_t height[245] ={
0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,2.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,1.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000,0.000000};
void delay(void);

void reset()
{
	GPIO_PinWrite(D7_GPIO, D7_GPIO_PIN, 0);
	GPIO_PinWrite(D6_GPIO, D6_GPIO_PIN, 0);
	GPIO_PinWrite(D5_GPIO, D5_GPIO_PIN, 0);
	GPIO_PinWrite(D4_GPIO, D4_GPIO_PIN, 0);
	GPIO_PinWrite(D3_GPIO, D3_GPIO_PIN, 0);
	GPIO_PinWrite(D2_GPIO, D2_GPIO_PIN, 0);
}

void testrow()
{
	GPIO_PortToggle(D7_GPIO, 1u << D7_GPIO_PIN);
	GPIO_PortToggle(D6_GPIO, 1u << D6_GPIO_PIN);
	GPIO_PortToggle(D5_GPIO, 1u << D5_GPIO_PIN);
}

void delay(void)
{
    volatile uint32_t i = 0;
    for (i = 0; i < 10000; ++i)
    {
        __asm("NOP"); /* delay */
    }
}

void row(int val)
{
	switch(val)
	{
		case 0: GPIO_PinWrite(D5_GPIO, D5_GPIO_PIN, 0);
				GPIO_PinWrite(D6_GPIO, D6_GPIO_PIN, 0);
				GPIO_PinWrite(D7_GPIO, D7_GPIO_PIN, 1);
				break;

		case 1: GPIO_PinWrite(D5_GPIO, D5_GPIO_PIN, 0);
				GPIO_PinWrite(D6_GPIO, D6_GPIO_PIN, 1);
				GPIO_PinWrite(D7_GPIO, D7_GPIO_PIN, 1);
				break;

		case 2: GPIO_PinWrite(D5_GPIO, D5_GPIO_PIN, 1);
				GPIO_PinWrite(D6_GPIO, D6_GPIO_PIN, 1);
				GPIO_PinWrite(D7_GPIO, D7_GPIO_PIN, 1);
				break;

		case 3: GPIO_PinWrite(D5_GPIO, D5_GPIO_PIN, 0);
				GPIO_PinWrite(D6_GPIO, D6_GPIO_PIN, 0);
				GPIO_PinWrite(D7_GPIO, D7_GPIO_PIN, 0);
				break;
	}
}

void led(int num)
{
	switch(num)
	{ /*
		case 0: GPIO_PinWrite(D4_GPIO, D4_GPIO_PIN, 0);
				GPIO_PinWrite(D3_GPIO, D3_GPIO_PIN, 0);
				GPIO_PinWrite(D2_GPIO, D2_GPIO_PIN, 0);
				break;

		case 1: GPIO_PinWrite(D4_GPIO, D4_GPIO_PIN, 1);
				GPIO_PinWrite(D3_GPIO, D3_GPIO_PIN, 1);
				GPIO_PinWrite(D2_GPIO, D2_GPIO_PIN, 1);
				break;

		case 2: GPIO_PinWrite(D4_GPIO, D4_GPIO_PIN, 1);
				GPIO_PinWrite(D3_GPIO, D3_GPIO_PIN, 1);
				GPIO_PinWrite(D2_GPIO, D2_GPIO_PIN, 0);
				break;

		case 3: GPIO_PinWrite(D4_GPIO, D4_GPIO_PIN, 1);
				GPIO_PinWrite(D3_GPIO, D3_GPIO_PIN, 0);
				GPIO_PinWrite(D2_GPIO, D2_GPIO_PIN, 1);
				break;

		case 4: GPIO_PinWrite(D4_GPIO, D4_GPIO_PIN, 1);
				GPIO_PinWrite(D3_GPIO, D3_GPIO_PIN, 0);
				GPIO_PinWrite(D2_GPIO, D2_GPIO_PIN, 0);
				break;

		case 5: GPIO_PinWrite(D4_GPIO, D4_GPIO_PIN, 0);
				GPIO_PinWrite(D3_GPIO, D3_GPIO_PIN, 1);
				GPIO_PinWrite(D2_GPIO, D2_GPIO_PIN, 1);
				break;

		case 6: GPIO_PinWrite(D4_GPIO, D4_GPIO_PIN, 0);
				GPIO_PinWrite(D3_GPIO, D3_GPIO_PIN, 1);
				GPIO_PinWrite(D2_GPIO, D2_GPIO_PIN, 0);
				break;

		case 7: GPIO_PinWrite(D4_GPIO, D4_GPIO_PIN, 0);
				GPIO_PinWrite(D3_GPIO, D3_GPIO_PIN, 0);
				GPIO_PinWrite(D2_GPIO, D2_GPIO_PIN, 1);
				break;
			*/
		case 0: GPIO_PinWrite(D4_GPIO, D4_GPIO_PIN, 0);
						GPIO_PinWrite(D3_GPIO, D3_GPIO_PIN, 0);
						GPIO_PinWrite(D2_GPIO, D2_GPIO_PIN, 0);
						break;

				case 1: GPIO_PinWrite(D4_GPIO, D4_GPIO_PIN, 0);
						GPIO_PinWrite(D3_GPIO, D3_GPIO_PIN, 0);
						GPIO_PinWrite(D2_GPIO, D2_GPIO_PIN, 1);
						break;

				case 2: GPIO_PinWrite(D4_GPIO, D4_GPIO_PIN, 0);
						GPIO_PinWrite(D3_GPIO, D3_GPIO_PIN, 1);
						GPIO_PinWrite(D2_GPIO, D2_GPIO_PIN, 0);
						break;

				case 3: GPIO_PinWrite(D4_GPIO, D4_GPIO_PIN, 0);
						GPIO_PinWrite(D3_GPIO, D3_GPIO_PIN, 1);
						GPIO_PinWrite(D2_GPIO, D2_GPIO_PIN, 1);
						break;

				case 4: GPIO_PinWrite(D4_GPIO, D4_GPIO_PIN, 1);
						GPIO_PinWrite(D3_GPIO, D3_GPIO_PIN, 0);
						GPIO_PinWrite(D2_GPIO, D2_GPIO_PIN, 0);
						break;

				case 5: GPIO_PinWrite(D4_GPIO, D4_GPIO_PIN, 1);
						GPIO_PinWrite(D3_GPIO, D3_GPIO_PIN, 0);
						GPIO_PinWrite(D2_GPIO, D2_GPIO_PIN, 1);
						break;

				case 6: GPIO_PinWrite(D4_GPIO, D4_GPIO_PIN, 1);
						GPIO_PinWrite(D3_GPIO, D3_GPIO_PIN, 1);
						GPIO_PinWrite(D2_GPIO, D2_GPIO_PIN, 0);
						break;

				case 7: GPIO_PinWrite(D4_GPIO, D4_GPIO_PIN, 1);
						GPIO_PinWrite(D3_GPIO, D3_GPIO_PIN, 1);
						GPIO_PinWrite(D2_GPIO, D2_GPIO_PIN, 1);
						break;

		default: break;
	}
}

int main(void)
{
    /* Define the init structure for the output LED pin*/
    gpio_pin_config_t led_config = {
        kGPIO_DigitalOutput, 0,
    };

    /* Board pin, clock, debug console init */
    BOARD_InitPins();
    BOARD_BootClockRUN();
    BOARD_InitDebugConsole();

    /* Init output LED GPIO. */
    GPIO_PinInit(D2_GPIO, D2_GPIO_PIN, &led_config);
    GPIO_PinInit(D3_GPIO, D3_GPIO_PIN, &led_config);
    GPIO_PinInit(D4_GPIO, D4_GPIO_PIN, &led_config);
    GPIO_PinInit(D5_GPIO, D5_GPIO_PIN, &led_config);
    GPIO_PinInit(D6_GPIO, D6_GPIO_PIN, &led_config);
    GPIO_PinInit(D7_GPIO, D7_GPIO_PIN, &led_config);

    while(1)//for(int k = 0; k < 245; k++)
    {
    	for(int ik = 0; ik < 8; ik++)
    	{
    		led(ik);

    		for(int ip = 0; ip < 3; ip++)
    		{
    			row(ip);
    			delay();
    		}

    		led(++ik);

    		for(int ip = 2; ip > -1; ip--)
    		{
    		 	row(ip);
    			delay();
    		}
    	}

    }

   /* for(int k = 0; k < 245; k++)
        {
        	led(direction[k]);
        	row(height[k]);
        	delay();
        }*/

    while(1)
    {
    	/*//1 2
    	//3	2
    	//0 1
    	//4 1
    	//5 0
    	//7 0

    	led(1);
    	row(2);
    	delay();

    	led(3);
    	row(2);
    	delay();

    	led(0);
    	row(1);
    	delay();

    	led(4);
    	row(1);
    	delay();

    	led(5);
    	row(0);
    	delay();

    	led(7);
    	row(0);
    	delay();


    	led(6);
    	row(2);
    	delay();*/
    }
    return 0;
}
